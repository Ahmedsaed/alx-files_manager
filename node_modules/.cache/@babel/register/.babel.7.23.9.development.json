{"{\"assumptions\":{},\"sourceRoot\":\"/home/domty/Desktop/ALX/alx-files_manager/utils/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/home/domty/Desktop/ALX/alx-files_manager\",\"filename\":\"/home/domty/Desktop/ALX/alx-files_manager/utils/redis.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/domty/Desktop/ALX/alx-files_manager\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.23.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.redisClient = exports.default = void 0;\nvar _util = require(\"util\");\nvar _redis = require(\"redis\");\nconst redis = require('redis');\nclass RedisClient {\n  constructor() {\n    this.client = redis.createClient();\n    this.client.on('error', err => {\n      console.error('Redis Client Error:', err);\n    });\n  }\n  isAlive() {\n    return this.client.connected;\n  }\n  async get(key) {\n    return (0, _util.promisify)(this.client.get).bind(this.client)(key);\n  }\n  async set(key, value, duration) {\n    await (0, _util.promisify)(this.client.SETEX).bind(this.client)(key, value, duration);\n  }\n  async del(key) {\n    await (0, _util.promisify)(this.client.DEL).bind(this.client)(key);\n  }\n}\nconst redisClient = exports.redisClient = new RedisClient();\nvar _default = exports.default = redisClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXRpbCIsInJlcXVpcmUiLCJfcmVkaXMiLCJyZWRpcyIsIlJlZGlzQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjbGllbnQiLCJjcmVhdGVDbGllbnQiLCJvbiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImlzQWxpdmUiLCJjb25uZWN0ZWQiLCJnZXQiLCJrZXkiLCJwcm9taXNpZnkiLCJiaW5kIiwic2V0IiwidmFsdWUiLCJkdXJhdGlvbiIsIlNFVEVYIiwiZGVsIiwiREVMIiwicmVkaXNDbGllbnQiLCJleHBvcnRzIiwiX2RlZmF1bHQiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIvaG9tZS9kb210eS9EZXNrdG9wL0FMWC9hbHgtZmlsZXNfbWFuYWdlci91dGlscy8iLCJzb3VyY2VzIjpbInJlZGlzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb21pc2lmeSB9IGZyb20gJ3V0aWwnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAncmVkaXMnO1xuXG5jb25zdCByZWRpcyA9IHJlcXVpcmUoJ3JlZGlzJyk7XG5cbmNsYXNzIFJlZGlzQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSByZWRpcy5jcmVhdGVDbGllbnQoKVxuXG4gICAgICAgIHRoaXMuY2xpZW50Lm9uKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZGlzIENsaWVudCBFcnJvcjonLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpc0FsaXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuY29ubmVjdGVkO1xuICAgIH1cblxuICAgIGFzeW5jIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2lmeSh0aGlzLmNsaWVudC5nZXQpLmJpbmQodGhpcy5jbGllbnQpKGtleSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0KGtleSwgdmFsdWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIGF3YWl0IHByb21pc2lmeSh0aGlzLmNsaWVudC5TRVRFWCkuYmluZCh0aGlzLmNsaWVudCkoa2V5LCB2YWx1ZSwgZHVyYXRpb24pO1xuICAgIH1cblxuICAgIGFzeW5jIGRlbChrZXkpIHtcbiAgICAgICAgYXdhaXQgcHJvbWlzaWZ5KHRoaXMuY2xpZW50LkRFTCkuYmluZCh0aGlzLmNsaWVudCkoa2V5KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWRpc0NsaWVudCA9IG5ldyBSZWRpc0NsaWVudCgpO1xuZXhwb3J0IGRlZmF1bHQgcmVkaXNDbGllbnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUQsT0FBQTtBQUVBLE1BQU1FLEtBQUssR0FBR0YsT0FBTyxDQUFDLE9BQU8sQ0FBQztBQUU5QixNQUFNRyxXQUFXLENBQUM7RUFDZEMsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsSUFBSSxDQUFDQyxNQUFNLEdBQUdILEtBQUssQ0FBQ0ksWUFBWSxDQUFDLENBQUM7SUFFbEMsSUFBSSxDQUFDRCxNQUFNLENBQUNFLEVBQUUsQ0FBQyxPQUFPLEVBQUdDLEdBQUcsSUFBSztNQUM3QkMsT0FBTyxDQUFDQyxLQUFLLENBQUMscUJBQXFCLEVBQUVGLEdBQUcsQ0FBQztJQUM3QyxDQUFDLENBQUM7RUFDTjtFQUVBRyxPQUFPQSxDQUFBLEVBQUc7SUFDTixPQUFPLElBQUksQ0FBQ04sTUFBTSxDQUFDTyxTQUFTO0VBQ2hDO0VBRUEsTUFBTUMsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFO0lBQ1gsT0FBTyxJQUFBQyxlQUFTLEVBQUMsSUFBSSxDQUFDVixNQUFNLENBQUNRLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUMsSUFBSSxDQUFDWCxNQUFNLENBQUMsQ0FBQ1MsR0FBRyxDQUFDO0VBQzVEO0VBRUEsTUFBTUcsR0FBR0EsQ0FBQ0gsR0FBRyxFQUFFSSxLQUFLLEVBQUVDLFFBQVEsRUFBRTtJQUM1QixNQUFNLElBQUFKLGVBQVMsRUFBQyxJQUFJLENBQUNWLE1BQU0sQ0FBQ2UsS0FBSyxDQUFDLENBQUNKLElBQUksQ0FBQyxJQUFJLENBQUNYLE1BQU0sQ0FBQyxDQUFDUyxHQUFHLEVBQUVJLEtBQUssRUFBRUMsUUFBUSxDQUFDO0VBQzlFO0VBRUEsTUFBTUUsR0FBR0EsQ0FBQ1AsR0FBRyxFQUFFO0lBQ1gsTUFBTSxJQUFBQyxlQUFTLEVBQUMsSUFBSSxDQUFDVixNQUFNLENBQUNpQixHQUFHLENBQUMsQ0FBQ04sSUFBSSxDQUFDLElBQUksQ0FBQ1gsTUFBTSxDQUFDLENBQUNTLEdBQUcsQ0FBQztFQUMzRDtBQUNKO0FBRU8sTUFBTVMsV0FBVyxHQUFBQyxPQUFBLENBQUFELFdBQUEsR0FBRyxJQUFJcEIsV0FBVyxDQUFDLENBQUM7QUFBQyxJQUFBc0IsUUFBQSxHQUFBRCxPQUFBLENBQUFFLE9BQUEsR0FDOUJILFdBQVcifQ==","map":{"version":3,"names":["_util","require","_redis","redis","RedisClient","constructor","client","createClient","on","err","console","error","isAlive","connected","get","key","promisify","bind","set","value","duration","SETEX","del","DEL","redisClient","exports","_default","default"],"sourceRoot":"/home/domty/Desktop/ALX/alx-files_manager/utils/","sources":["redis.js"],"sourcesContent":["import { promisify } from 'util';\nimport { createClient } from 'redis';\n\nconst redis = require('redis');\n\nclass RedisClient {\n    constructor() {\n        this.client = redis.createClient()\n\n        this.client.on('error', (err) => {\n            console.error('Redis Client Error:', err);\n        });\n    }\n\n    isAlive() {\n        return this.client.connected;\n    }\n\n    async get(key) {\n        return promisify(this.client.get).bind(this.client)(key);\n    }\n\n    async set(key, value, duration) {\n        await promisify(this.client.SETEX).bind(this.client)(key, value, duration);\n    }\n\n    async del(key) {\n        await promisify(this.client.DEL).bind(this.client)(key);\n    }\n}\n\nexport const redisClient = new RedisClient();\nexport default redisClient;\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAEA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAO,CAAC;AAE9B,MAAMG,WAAW,CAAC;EACdC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,MAAM,GAAGH,KAAK,CAACI,YAAY,CAAC,CAAC;IAElC,IAAI,CAACD,MAAM,CAACE,EAAE,CAAC,OAAO,EAAGC,GAAG,IAAK;MAC7BC,OAAO,CAACC,KAAK,CAAC,qBAAqB,EAAEF,GAAG,CAAC;IAC7C,CAAC,CAAC;EACN;EAEAG,OAAOA,CAAA,EAAG;IACN,OAAO,IAAI,CAACN,MAAM,CAACO,SAAS;EAChC;EAEA,MAAMC,GAAGA,CAACC,GAAG,EAAE;IACX,OAAO,IAAAC,eAAS,EAAC,IAAI,CAACV,MAAM,CAACQ,GAAG,CAAC,CAACG,IAAI,CAAC,IAAI,CAACX,MAAM,CAAC,CAACS,GAAG,CAAC;EAC5D;EAEA,MAAMG,GAAGA,CAACH,GAAG,EAAEI,KAAK,EAAEC,QAAQ,EAAE;IAC5B,MAAM,IAAAJ,eAAS,EAAC,IAAI,CAACV,MAAM,CAACe,KAAK,CAAC,CAACJ,IAAI,CAAC,IAAI,CAACX,MAAM,CAAC,CAACS,GAAG,EAAEI,KAAK,EAAEC,QAAQ,CAAC;EAC9E;EAEA,MAAME,GAAGA,CAACP,GAAG,EAAE;IACX,MAAM,IAAAC,eAAS,EAAC,IAAI,CAACV,MAAM,CAACiB,GAAG,CAAC,CAACN,IAAI,CAAC,IAAI,CAACX,MAAM,CAAC,CAACS,GAAG,CAAC;EAC3D;AACJ;AAEO,MAAMS,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG,IAAIpB,WAAW,CAAC,CAAC;AAAC,IAAAsB,QAAA,GAAAD,OAAA,CAAAE,OAAA,GAC9BH,WAAW"}},"mtime":1707582068580}}